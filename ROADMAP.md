# ClassFinal 功能规划

> 本文档记录 ClassFinal 的功能规划和开发方向，基于实际需求和可行性制定。

## 🚀 v2.0.1 (已完成 ✅)

**核心目标**：改善易用性和安全性

### 配置文件支持
- [x] 支持 YAML/JSON 配置文件 (`classfinal.yml`) ✅
- [x] 生成配置模板 `--init-config` ✅
- [x] 环境变量占位符 `${VAR_NAME}` ✅
- [x] 配置文件验证和友好错误提示 ✅

### 密码管理增强
- [x] 从文件读取密码 `--password-file /path/to/pwd.txt` ✅
- [x] 密码文件自动删除选项（读取后删除） ✅
- [x] 改进环境变量密码读取逻辑 ✅
- [x] 密码强度检查和提示 ✅

### 加密验证工具
- [x] 验证 JAR 是否已加密 `--verify app.jar` ✅
- [x] 显示加密统计（加密类数量、加密率等） ✅
- [x] 检测加密方法和保护模式 ✅
- [x] 列出已加密的类名列表 ✅

### 用户体验改进
- [x] 命令行参数标准化（支持 `--long-option`） ✅
- [x] 更友好的错误提示（中英文） ✅
- [x] 日志级别控制 `--log-level` ✅
- [x] 进度条显示优化 ✅

### 文档完善
- [x] 配置文件使用指南 ✅
- [x] 密码管理最佳实践 ✅
- [x] 常见问题 FAQ 扩展 ✅ (新增 Q6-Q10)
- [x] 安全加固建议 ✅ (新增 5 大安全加固模块 + 6 个故障排除指南)

---

## 🎯 v2.1.0 (规划中)

**核心目标**：支持批量处理和性能优化

### 批量加密
- [ ] 批量配置文件 `--batch jobs.yml`
- [ ] 一次加密多个 JAR/WAR
- [ ] 批量加密进度报告
- [ ] 失败重试机制

### 性能优化
- [ ] 多线程并行加密 `--threads N`
- [ ] 大文件流式处理
- [ ] 增量加密支持 `--incremental`（只加密变更的类）
- [ ] 加密缓存机制

### 高级匹配
- [ ] 包名通配符 `com.example.**`
- [ ] 正则表达式匹配
- [ ] 按注解选择 `@Encrypted`

### 配置文件加密
- [ ] application.yml 字段级加密
- [ ] properties 文件敏感值加密
- [ ] 运行时自动解密
- [ ] 加密标记语法 `ENC(...)`

---

## 📋 后续方向 (待评估)

以下功能需要根据用户反馈和实际需求评估是否实现：

### 可能添加的功能
- 解密工具（授权场景）
- 加密强度选项（AES-128/256）
- CI/CD 集成改进（Jenkins 插件、GitHub Action）
- classfinal-web 模块改进（如有需求）
- Maven 插件功能增强

---

有功能建议？欢迎：
1. 提交 [Issue](https://github.com/ygqygq2/classfinal/issues) 说明需求和使用场景
2. 在 [Discussions](https://github.com/ygqygq2/classfinal/discussions) 讨论可行性
3. 提交 PR 实现功能（请先讨论避免浪费时间）

**优先考虑的功能特点**：
- ✅ 解决实际使用痛点
- ✅ 实现成本可控
- ✅ 维护负担小
- ✅ 不破坏现有兼容性

---

## 📌 版本兼容性

| 版本 | JDK 支持 | Spring Boot | 向后兼容 |
|------|----------|-------------|----------|
| 2.0.x | 8, 11, 17, 21 | 2.x, 3.x | ✅ 完全兼容 1.x |
| 2.1.x | 8, 11, 17, 21 | 2.x, 3.x | ✅ 完全兼容 2.0.x |

---

**最后更新**: 2026-01-12  
**维护者**: [@ygqygq2](https://github.com/ygqygq2)
